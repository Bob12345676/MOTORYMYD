# Инструкции по установке и настройке

## Требования

- Node.js v14+ и npm
- MongoDB (локально или MongoDB Atlas)
- AWS аккаунт (для S3) или альтернативное хранилище изображений

## Клонирование репозитория

```bash
git clone https://github.com/your-username/MOTORYMYD.git
cd MOTORYMYD
```

## Настройка бэкенда

1. Перейдите в директорию сервера:

```bash
cd server
```

2. Установите зависимости:

```bash
npm install
```

3. Создайте файл `.env` в корне директории сервера со следующими переменными:

```
NODE_ENV=development
PORT=5000
MONGODB_URI=mongodb://localhost:27017/motorymyd
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRE=30d
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=your_aws_region
AWS_BUCKET_NAME=your_aws_bucket_name
CORS_ORIGIN=http://localhost:3000
```

Примечание: Для локальной разработки вы можете использовать локальную MongoDB или облачный сервис MongoDB Atlas.

4. Запустите сервер в режиме разработки:

```bash
npm run dev
```

## Настройка фронтенда

1. Перейдите в директорию клиента:

```bash
cd client
```

2. Установите зависимости:

```bash
npm install
```

3. Создайте файл `.env` в корне директории клиента со следующими переменными:

```
REACT_APP_API_URL=http://localhost:5000/api
REACT_APP_IMAGES_URL=http://localhost:5000/uploads
```

4. Запустите клиент в режиме разработки:

```bash
npm start
```

## Заполнение базы данных (опционально)

Для заполнения базы данных тестовыми данными вы можете использовать скрипт из директории сервера:

```bash
npm run seed
```

## Доступ к административной панели

После запуска приложения, вы можете получить доступ к административной панели по адресу:

```
http://localhost:3000/admin
```

Для первого входа используйте следующие учетные данные:

- Email: admin@example.com
- Пароль: admin12345

**Важно:** Обязательно измените эти учетные данные после первого входа!

## Структура проекта

### Бэкенд (директория server)

```
server/
  ├── config/           # Конфигурация приложения
  ├── controllers/      # Контроллеры API
  ├── middleware/       # Промежуточное ПО (middleware)
  ├── models/           # Модели Mongoose
  ├── routes/           # Маршруты API
  ├── services/         # Сервисы (бизнес-логика)
  ├── utils/            # Утилиты и хелперы
  ├── .env              # Переменные окружения
  ├── package.json      # Зависимости и скрипты
  └── server.js         # Точка входа приложения
```

### Фронтенд (директория client)

```
client/
  ├── public/           # Статические файлы
  ├── src/              # Исходный код
  │   ├── assets/       # Изображения, шрифты и т.д.
  │   ├── components/   # Переиспользуемые компоненты
  │   ├── pages/        # Страницы приложения
  │   ├── services/     # Сервисы для работы с API
  │   ├── store/        # State менеджмент (Redux)
  │   ├── utils/        # Утилиты и хелперы
  │   ├── App.tsx       # Корневой компонент
  │   └── index.tsx     # Точка входа
  ├── .env              # Переменные окружения
  └── package.json      # Зависимости и скрипты
```

## Возможные проблемы и их решение

### Проблема с подключением к MongoDB

Если у вас возникают проблемы с подключением к MongoDB, убедитесь, что:
- MongoDB запущена (если используете локальную версию)
- Строка подключения в `.env` указана корректно
- В строке подключения заменены `<username>` и `<password>` на реальные данные
- IP адрес добавлен в список разрешенных (при использовании MongoDB Atlas)

### Проблема с загрузкой изображений

Если изображения не загружаются:
- Проверьте настройки AWS S3 (ключи, регион, имя бакета)
- Убедитесь, что политика CORS бакета настроена корректно
- Проверьте права доступа для IAM пользователя 